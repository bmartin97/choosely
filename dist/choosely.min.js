module.exports=function(e){var t={};function s(o){if(t[o])return t[o].exports;var n=t[o]={i:o,l:!1,exports:{}};return e[o].call(n.exports,n,n.exports,s),n.l=!0,n.exports}return s.m=e,s.c=t,s.d=function(e,t,o){s.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:o})},s.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},s.t=function(e,t){if(1&t&&(e=s(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var o=Object.create(null);if(s.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)s.d(o,n,function(t){return e[t]}.bind(null,n));return o},s.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return s.d(t,"a",t),t},s.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},s.p="",s(s.s=0)}([function(e,t,s){"use strict";s.r(t),s.d(t,"default",(function(){return o}));class o{constructor(e,{target:t,searchable:s=!1,inheritAttributes:o=!1,enableArrowNavigation:n=!0,on:i={}}={}){["Init","Open","Close","Select"].forEach(e=>{if("function"==typeof i[e])this["on"+e]=i[e];else{if(null!==i[e])throw e+" property defined, but it is not a function!";this["on"+e]=function(){}}}),this.state={_selected:null,set Selected(e){this._selected=e},get Selected(){return this._selected},_options:[],set Options(e){this._options=e},get Options(){return this._options},_filteredOptions:[],set FilteredOptions(e){this._filteredOptions=e,console.log("work",this),this.RefreshOptions()},get FilteredOptions(){return this._filteredOptions},_isOpened:!1,set IsOpened(e){this._isOpened=e},get IsOpened(){return this._isOpened}},Object.defineProperty(this.state,"FilteredOptions",{set:function(e){this.state._filteredOptions=e,this.RefreshOptions()}.bind(this)});try{const i=document.querySelector(e);if(!i)throw new Error("Source element doesn't exist. Selector: "+e);if(this.sourceElement=i,t){const e=document.querySelector(t);if(!e)throw new Error("Target element doesn't exist. Selector: "+t);this.targetElement=e}else{const e=this.sourceElement.parentElement;if(!e)throw new Error("Source element doesn't have parent elements. Please define target element.");this.targetElement=e}const c=this.sourceElement.querySelectorAll("option"),d=()=>{if(o){if("object"==typeof o&&Array.isArray(o))return Array.from(c).map(e=>{const t=e.innerText,s=e.cloneNode();s.classList.add("choosely-option");const n=s.attributes;return`<div ${i=n,r=o,Object.values(i).map(e=>{if(r.includes(e.nodeName))return`${e.nodeName}="${e.nodeValue}"`}).join(" ")} ${o.includes("class")?"":'class="choosely-option"'}>${t}</div>`;var i,r});if("boolean"==typeof o)return Array.from(c).map(e=>{const t=e.innerText,s=e.cloneNode();s.classList.add("choosely-option");const o=s.attributes;return`<div ${n=o,Object.values(n).map(e=>`${e.nodeName}="${e.nodeValue}"`).join(" ")} >${t}</div>`;var n});throw new Error("Invalid type for inheritAttributes property.")}return Array.from(c).map(e=>`<div class="choosely-option">${e.innerText}</div>`)},a=`\n                <div class="choosely-select">\n                    <div class="choosely-selected">\n                        ${c[0].innerText}\n                    </div>\n                    <div class="choosely-option-container">\n                        ${s?'\n                            <div class="choosely-search">\n                                <input type="search" autocomplete="off">\n                            </div>':""}\n                        <div class="choosely-options">\n                            ${d().join("")}\n                        </div>\n                    </div>\n                </div >\n                `,h=(r=a,(l=document.createElement("div")).innerHTML=r.trim(),l.firstChild);if(this.targetElement.appendChild(h),this.chooselyElement=h,this.state.Selected=h.querySelector(".choosely-selected"),this.state.Options=h.querySelectorAll(".choosely-option"),this.state.Options[0].classList.add("choosely-selected-option"),this.chooselyOptionsElement=h.querySelector(".choosely-option-container .choosely-options"),this.state.Selected.addEventListener("click",()=>{this.IsOpened?this.Close():this.Open()}),this.state.Options.forEach(e=>{e.addEventListener("click",()=>{this.Select(e),this.Close()})}),window.addEventListener("click",e=>{this.IsOpened&&!this.chooselyElement.contains(e.target)&&this.Close()}),this.state._filteredOptions=this.state.Options,s){this.chooselyElement.querySelector(".choosely-search > input").addEventListener("input",e=>{const t=e.target.value;this.state.FilteredOptions=Array.from(this.state.Options).filter(e=>e.innerText.toLowerCase().includes(t.toLowerCase()))})}return n&&document.addEventListener("keydown",e=>{if(this.IsOpened)if(40===e.which){const e=Array.from(this.state.FilteredOptions).findIndex(e=>e.classList.contains("choosely-selected-option"));0<=e&&e<this.state.FilteredOptions.length-1&&(this.state.FilteredOptions[e].classList.remove("choosely-selected-option"),this.state.FilteredOptions[e+1].classList.add("choosely-selected-option"),this.Select(this.state.FilteredOptions[e+1]))}else if(38===e.which){const e=Array.from(this.state.FilteredOptions).findIndex(e=>e.classList.contains("choosely-selected-option"));1<=e&&e<this.state.FilteredOptions.length&&(this.state.FilteredOptions[e].classList.remove("choosely-selected-option"),this.state.FilteredOptions[e-1].classList.add("choosely-selected-option"),this.Select(this.state.FilteredOptions[e-1]))}else 13===e.keyCode&&this.Close()}),this}catch(e){console.error(e,"Choosely.js")}finally{this.onInit()}var r,l}Select(e){this.state.Options.forEach(e=>e.classList.remove("choosely-selected-option")),e.classList.add("choosely-selected-option"),this.state.Selected.innerText=e.innerText,this.onSelect()}Open(){this.chooselyElement.classList.add("c-opened"),this.IsOpened=!0,this.onOpen()}Close(){this.chooselyElement.classList.remove("c-opened"),this.IsOpened=!1,this.onClose()}RefreshOptions(){const e=document.createElement("div");this.state.FilteredOptions.forEach(t=>e.appendChild(t)),this.chooselyOptionsElement.innerHTML="",this.state.FilteredOptions.forEach(e=>this.chooselyOptionsElement.appendChild(e))}}}]);