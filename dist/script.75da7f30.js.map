{"version":3,"sources":["../src/index.js","script.js"],"names":["createElementFromHTML","htmlString","div","document","createElement","innerHTML","trim","firstChild","createAttributesFromObject","attrObject","Object","values","map","value","nodeName","nodeValue","join","createAttributesFromAttributeList","attrArray","includes","Choosely","selector","undefined","target","searchable","inheritAttributes","enableArrowNavigation","on","functionProps","forEach","prop","state","_selected","Selected","new_selected","_options","Options","new_options","_filteredOptions","FilteredOptions","console","log","RefreshOptions","_isOpened","IsOpened","defineProperty","set","bind","_sourceElement","querySelector","sourceElement","Error","_targetElement","targetElement","parentElement","options","querySelectorAll","renderOptions","Array","isArray","from","_option","text","innerText","_clone","cloneNode","classList","add","attributes","html","_element","appendChild","chooselyElement","chooselyOptionsElement","addEventListener","Close","Open","Select","window","evt","contains","searchElement","event","keyword","filter","toLowerCase","which","indexOfSelectedOption","findIndex","length","remove","keyCode","err","error","onInit","option","onSelect","onOpen","onClose","temp","selector1","selector2","Init"],"mappings":"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","file":"script.75da7f30.js","sourceRoot":"..\\dev","sourcesContent":["function createElementFromHTML(htmlString) {\r\n    var div = document.createElement('div');\r\n    div.innerHTML = htmlString.trim();\r\n\r\n    // Change this to div.childNodes to support multiple top-level nodes\r\n    return div.firstChild;\r\n}\r\n\r\nfunction createAttributesFromObject(attrObject) {\r\n    return Object.values(attrObject)\r\n        .map((value) => `${value.nodeName}=\"${value.nodeValue}\"`)\r\n        .join(' ');\r\n}\r\n\r\nfunction createAttributesFromAttributeList(attrObject, attrArray) {\r\n    return Object.values(attrObject)\r\n        .map((value) => {\r\n            if (attrArray.includes(value.nodeName)) {\r\n                return `${value.nodeName}=\"${value.nodeValue}\"`;\r\n            }\r\n        })\r\n        .join(' ');\r\n}\r\n\r\nexport default class Choosely {\r\n    constructor(\r\n        selector = undefined,\r\n        {\r\n            target = undefined,\r\n            searchable = false,\r\n            inheritAttributes = false,\r\n            enableArrowNavigation = true,\r\n            on = {}\r\n        } = {}\r\n    ) {\r\n        const functionProps = ['Init', 'Open', 'Close', 'Select'];\r\n        functionProps.forEach((prop) => {\r\n            if (typeof on[prop] === 'function') {\r\n                this['on' + prop] = on[prop];\r\n            } else if (on[prop] === null) {\r\n                this['on' + prop] = function () {};\r\n            } else throw `${prop} property defined, but it is not a function!`;\r\n        });\r\n\r\n        this.state = {\r\n            _selected: null,\r\n            set Selected(new_selected) {\r\n                this._selected = new_selected;\r\n            },\r\n            get Selected() {\r\n                return this._selected;\r\n            },\r\n            _options: [],\r\n            set Options(new_options) {\r\n                this._options = new_options;\r\n            },\r\n            get Options() {\r\n                return this._options;\r\n            },\r\n            _filteredOptions: [],\r\n            set FilteredOptions(value) {\r\n                this._filteredOptions = value;\r\n                console.log('work', this);\r\n                this.RefreshOptions();\r\n            },\r\n            get FilteredOptions() {\r\n                return this._filteredOptions;\r\n            },\r\n            _isOpened: false,\r\n            set IsOpened(value) {\r\n                this._isOpened = value;\r\n            },\r\n            get IsOpened() {\r\n                return this._isOpened;\r\n            }\r\n        };\r\n\r\n        Object.defineProperty(this.state, 'FilteredOptions', {\r\n            set: function (value) {\r\n                this.state._filteredOptions = value;\r\n                this.RefreshOptions();\r\n            }.bind(this)\r\n        });\r\n\r\n        try {\r\n            const _sourceElement = document.querySelector(selector);\r\n            if (_sourceElement) {\r\n                this.sourceElement = _sourceElement;\r\n            } else {\r\n                throw new Error(`Source element doesn't exist. Selector: ${selector}`);\r\n            }\r\n\r\n            // Select target HTML Element\r\n            if (target) {\r\n                const _targetElement = document.querySelector(target);\r\n                if (_targetElement) {\r\n                    this.targetElement = _targetElement;\r\n                } else {\r\n                    throw new Error(`Target element doesn't exist. Selector: ${target}`);\r\n                }\r\n            } else {\r\n                const _targetElement = this.sourceElement.parentElement;\r\n                if (_targetElement) {\r\n                    this.targetElement = _targetElement;\r\n                } else {\r\n                    throw new Error(\r\n                        `Source element doesn't have parent elements. Please define target element.`\r\n                    );\r\n                }\r\n            }\r\n\r\n            // Render choosely\r\n            const options = this.sourceElement.querySelectorAll('option');\r\n\r\n            const renderOptions = () => {\r\n                if (inheritAttributes) {\r\n                    if (typeof inheritAttributes === 'object' && Array.isArray(inheritAttributes)) {\r\n                        // Array\r\n                        return Array.from(options).map((_option) => {\r\n                            const text = _option.innerText;\r\n\r\n                            const _clone = _option.cloneNode();\r\n                            _clone.classList.add('choosely-option');\r\n                            const attributes = _clone.attributes;\r\n\r\n                            return `<div ${createAttributesFromAttributeList(\r\n                                attributes,\r\n                                inheritAttributes\r\n                            )} ${\r\n                                !inheritAttributes.includes('class') ? 'class=\"choosely-option\"' : ''\r\n                            }>${text}</div>`;\r\n                        });\r\n                    } else if (typeof inheritAttributes === 'boolean') {\r\n                        // True\r\n                        return Array.from(options).map((_option) => {\r\n                            const text = _option.innerText;\r\n\r\n                            const _clone = _option.cloneNode();\r\n                            _clone.classList.add('choosely-option');\r\n                            const attributes = _clone.attributes;\r\n\r\n                            return `<div ${createAttributesFromObject(attributes)} >${text}</div>`;\r\n                        });\r\n                    } else {\r\n                        // Invalid type\r\n                        throw new Error(`Invalid type for inheritAttributes property.`);\r\n                    }\r\n                } else {\r\n                    // False\r\n                    return Array.from(options).map((_option) => {\r\n                        const text = _option.innerText;\r\n\r\n                        return `<div class=\"choosely-option\">${text}</div>`;\r\n                    });\r\n                }\r\n            };\r\n\r\n            const html = `\r\n                <div class=\"choosely-select\">\r\n                    <div class=\"choosely-selected\">\r\n                        ${options[0].innerText}\r\n                    </div>\r\n                    <div class=\"choosely-option-container\">\r\n                        ${\r\n                            searchable\r\n                                ? `\r\n                            <div class=\"choosely-search\">\r\n                                <input type=\"search\" autocomplete=\"off\">\r\n                            </div>`\r\n                                : ``\r\n                        }\r\n                        <div class=\"choosely-options\">\r\n                            ${renderOptions().join('')}\r\n                        </div>\r\n                    </div>\r\n                </div >\r\n                `;\r\n            const _element = createElementFromHTML(html);\r\n            this.targetElement.appendChild(_element);\r\n\r\n            this.chooselyElement = _element;\r\n            this.state.Selected = _element.querySelector('.choosely-selected');\r\n            this.state.Options = _element.querySelectorAll('.choosely-option');\r\n            this.state.Options[0].classList.add('choosely-selected-option');\r\n            this.chooselyOptionsElement = _element.querySelector(\r\n                '.choosely-option-container .choosely-options'\r\n            );\r\n\r\n            this.state.Selected.addEventListener('click', () => {\r\n                if (this.IsOpened) {\r\n                    this.Close();\r\n                } else {\r\n                    this.Open();\r\n                }\r\n            });\r\n            this.state.Options.forEach((_option) => {\r\n                _option.addEventListener('click', () => {\r\n                    this.Select(_option);\r\n                    this.Close();\r\n                });\r\n            });\r\n            window.addEventListener('click', (evt) => {\r\n                if (this.IsOpened && !this.chooselyElement.contains(evt.target)) {\r\n                    this.Close();\r\n                }\r\n            });\r\n            this.state._filteredOptions = this.state.Options;\r\n            if (searchable) {\r\n                const searchElement = this.chooselyElement.querySelector('.choosely-search > input');\r\n                searchElement.addEventListener('input', (event) => {\r\n                    const keyword = event.target.value;\r\n                    this.state.FilteredOptions = Array.from(this.state.Options).filter((_option) =>\r\n                        _option.innerText.toLowerCase().includes(keyword.toLowerCase())\r\n                    );\r\n                });\r\n            }\r\n            if (enableArrowNavigation) {\r\n                document.addEventListener('keydown', (event) => {\r\n                    if (this.IsOpened) {\r\n                        if (event.which === 40) {\r\n                            // Down arrow\r\n                            const indexOfSelectedOption = Array.from(\r\n                                this.state.FilteredOptions\r\n                            ).findIndex((_option) => _option.classList.contains('choosely-selected-option'));\r\n                            if (\r\n                                0 <= indexOfSelectedOption &&\r\n                                indexOfSelectedOption < this.state.FilteredOptions.length - 1\r\n                            ) {\r\n                                this.state.FilteredOptions[indexOfSelectedOption].classList.remove(\r\n                                    'choosely-selected-option'\r\n                                );\r\n                                this.state.FilteredOptions[indexOfSelectedOption + 1].classList.add(\r\n                                    'choosely-selected-option'\r\n                                );\r\n                                this.Select(this.state.FilteredOptions[indexOfSelectedOption + 1]);\r\n                            }\r\n                        } else if (event.which === 38) {\r\n                            // Up arrow\r\n                            const indexOfSelectedOption = Array.from(\r\n                                this.state.FilteredOptions\r\n                            ).findIndex((_option) => _option.classList.contains('choosely-selected-option'));\r\n                            if (\r\n                                1 <= indexOfSelectedOption &&\r\n                                indexOfSelectedOption < this.state.FilteredOptions.length\r\n                            ) {\r\n                                this.state.FilteredOptions[indexOfSelectedOption].classList.remove(\r\n                                    'choosely-selected-option'\r\n                                );\r\n                                this.state.FilteredOptions[indexOfSelectedOption - 1].classList.add(\r\n                                    'choosely-selected-option'\r\n                                );\r\n                                this.Select(this.state.FilteredOptions[indexOfSelectedOption - 1]);\r\n                            }\r\n                        } else if (event.keyCode === 13) {\r\n                            this.Close();\r\n                        }\r\n                    }\r\n                });\r\n            }\r\n\r\n            return this;\r\n        } catch (err) {\r\n            console.error(err, 'Choosely.js');\r\n        } finally {\r\n            this.onInit();\r\n        }\r\n    }\r\n    /**\r\n     * @param {HTMLElement} option\r\n     */\r\n    Select(option) {\r\n        this.state.Options.forEach((_option) => _option.classList.remove('choosely-selected-option'));\r\n        option.classList.add('choosely-selected-option');\r\n        this.state.Selected.innerText = option.innerText;\r\n        this.onSelect();\r\n    }\r\n    Open() {\r\n        this.chooselyElement.classList.add('c-opened');\r\n        this.IsOpened = true;\r\n        this.onOpen();\r\n    }\r\n    Close() {\r\n        this.chooselyElement.classList.remove('c-opened');\r\n        this.IsOpened = false;\r\n        this.onClose();\r\n    }\r\n    RefreshOptions() {\r\n        const temp = document.createElement('div');\r\n        this.state.FilteredOptions.forEach((_element) => temp.appendChild(_element));\r\n        this.chooselyOptionsElement.innerHTML = '';\r\n        this.state.FilteredOptions.forEach((_element) => this.chooselyOptionsElement.appendChild(_element));\r\n    }\r\n}\r\n","import Choosely from '../src/index';\r\n\r\nconst selector1 = new Choosely('form .form-item.form-type-select select');\r\nconst selector2 = new Choosely('form .form-item.form-type-select select', {\r\n    searchable: true,\r\n    inheritAttributes: ['value', 'style'], // default false,\r\n    enableArrowNavigation: true,\r\n    on: {\r\n        Init() {\r\n            console.log('Init.');\r\n        },\r\n        Open() {\r\n            console.log('Open.');\r\n        },\r\n        Close() {\r\n            console.log('Close.');\r\n        },\r\n        Select() {\r\n            console.log('Select.');\r\n        }\r\n    }\r\n});\r\n"]}